{"version":3,"sources":["app.es6"],"names":[],"mappings":";;;;;;;AAKA,IAAI,QAAQ,GAAG,SAAX,QAAQ,CAAa,IAAI,EAAE;AAC9B,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAC5C,KAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;CAC1B,CAAC;;;;;;AAMF,QAAQ,CAAC,IAAI,GAAG,YAAY;AAC3B,KAAI,KAAK,GAAG,EAAE,CAAC;AACf,KAAI,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACvC,KAAI,GAAG,EAAE;AACR,MAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC3B,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACrC,QAAK,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GAClC;EACD;AACD,QAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;CACrB,CAAC;;;;;;AAMF,QAAQ,CAAC,IAAI,GAAG,UAAU,QAAQ,EAAE;AACnC,aAAY,CAAC,OAAO,CAAC,MAAM,EAC1B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE;AAC9C,SAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;EACpB,CAAC,CAAC,CAAC,CAAC;CACN,CAAC;;;;;AAKF,IAAI,EAAE,GAAG;AACR,KAAI,EAAE,gBAAK;AACV,IAAE,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;AAC1B,IAAE,CAAC,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;;;;AAK5B,IAAE,CAAC,GAAG,GAAG,YAAY;AACpB,OAAI,EAAE,CAAC,WAAW,EAAE,EAAE;AACrB,MAAE,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,EAAC,WAAW,EAAE,EAAE,CAAC,WAAW,EAAE,EAAC,CAAC,CAAC,CAAC;AAC9D,MAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AACnB,YAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;IACzB;GACD,CAAC;;;;;AAKF,IAAE,CAAC,KAAK,GAAG,YAAY;AACtB,OAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAChB,WAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;GACzB,CAAC;EACF;CACD,CAAC;;;;;AAKF,SAAS,UAAU,GAAG;AACrB,GAAE,CAAC,IAAI,EAAE,CAAA;CACT;;;;;;AAOD,SAAS,IAAI,GAAG;AACf,QAAO,CAAC,CAAC,KAAK,EAAE,CACf,CAAC,CAAC,OAAO,EAAE,EAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,WAAW,EAAE,EAAC,CAAC,EACpF,CAAC,CAAC,QAAQ,EAAE,EAAC,OAAO,EAAE,EAAE,CAAC,GAAG,EAAC,EAAE,IAAI,CAAC,EACpC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;AACxC,SAAO,CAAC,CAAC,IAAI,EACZ,CAAC,CAAC,OAAO,EACR,CAAC,CAAC,IAAI,EACL,CAAC,CAAC,sBAAsB,EAAE,EAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,EAAC,CAAC,CACpG,EACD,CAAC,CAAC,IAAI,EAAE,EAAC,KAAK,EAAE,EAAC,cAAc,EAAE,IAAI,CAAC,IAAI,EAAE,GAAG,cAAc,GAAG,MAAM,EAAC,EAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAC7F,CACD,CAAC;EACF,CAAC,CAAC,CACH,CAAC,CAAC;CACH;;AAED,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,EAAC,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC","file":"app-compiled.js","sourcesContent":["/**\n * TodoItem Model\n * @param {object} data\n * @constructor\n */\nvar TodoItem = function (data) {\n\tthis.description = m.prop(data.description);\n\tthis.done = m.prop(false);\n};\n\n/**\n * list method\n * @returns {Array}\n */\nTodoItem.list = function () {\n\tvar tasks = [];\n\tvar src = localStorage.getItem(\"todo\");\n\tif (src) {\n\t\tvar json = JSON.parse(src);\n\t\tfor (var i = 0; i < json.length; i++) {\n\t\t\ttasks.push(new TodoItem(json[i]));\n\t\t}\n\t}\n\treturn m.prop(tasks);\n};\n\n/**\n * save method\n * @param {TodoItem[]} todoList\n */\nTodoItem.save = function (todoList) {\n\tlocalStorage.setItem(\"todo\",\n\t\tJSON.stringify(todoList.filter(function (todo) {\n\t\t\treturn !todo.done();\n\t\t})));\n};\n\n/**\n * view model\n */\nvar vm = {\n\tinit: ()=> {\n\t\tvm.list = TodoItem.list();\n\t\tvm.description = m.prop(\"\");\n\n\t\t/**\n\t\t * add item\n\t\t */\n\t\tvm.add = function () {\n\t\t\tif (vm.description()) {\n\t\t\t\tvm.list().push(new TodoItem({description: vm.description()}));\n\t\t\t\tvm.description(\"\");\n\t\t\t\tTodoItem.save(vm.list());\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * checked this item\n\t\t */\n\t\tvm.check = function () {\n\t\t\tthis.done(true);\n\t\t\tTodoItem.save(vm.list());\n\t\t};\n\t}\n};\n\n/**\n * controller\n */\nfunction controller() {\n\tvm.init()\n}\n\n\n/**\n * view\n * @returns {*}\n */\nfunction view() {\n\treturn m(\"div\", [\n\t\tm(\"input\", {onchange: m.withAttr(\"value\", vm.description), value: vm.description()}),\n\t\tm(\"button\", {onclick: vm.add}, \"追加\"),\n\t\tm(\"table\", vm.list().map(function (task) {\n\t\t\treturn m(\"tr\",\n\t\t\t\tm(\"label\",\n\t\t\t\t\tm(\"td\",\n\t\t\t\t\t\tm(\"input[type=checkbox]\", {onclick: m.withAttr(\"checked\", vm.check.bind(task)), value: task.done()})\n\t\t\t\t\t),\n\t\t\t\t\tm(\"td\", {style: {textDecoration: task.done() ? \"line-through\" : \"none\"}}, task.description())\n\t\t\t\t)\n\t\t\t);\n\t\t}))\n\t]);\n}\n\nm.mount(document.getElementById(\"root\"), {controller: controller, view: view});\n\n"]}