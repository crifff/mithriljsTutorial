{"version":3,"sources":["app.jsx"],"names":[],"mappings":"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","file":"app-compiled.js","sourcesContent":["/**\n * TodoItem Model\n * @param {object} data\n * @constructor\n */\nlet TodoItem = function (data) {\n    this.description = m.prop(data.description);\n    this.done = m.prop(false);\n};\n\n/**\n * list method\n * @returns {Array}\n */\nTodoItem.list = function () {\n    const tasks = [];\n    const src = localStorage.getItem('todo');\n    if (src) {\n        const json = JSON.parse(src);\n        for (let i = 0; i < json.length; i++) {\n            tasks.push(new TodoItem(json[i]));\n        }\n    }\n    return m.prop(tasks);\n};\n\n/**\n * save method\n * @param {TodoItem[]} todoList\n */\nTodoItem.save = function (todoList) {\n    localStorage.setItem('todo', JSON.stringify(todoList.filter(todo => {\n        return !todo.done();\n    })));\n};\n/**\n * view model\n */\nlet vm;\nvm = {\n    init: () => {\n        vm.list = TodoItem.list();\n        vm.description = m.prop('');\n        /**\n         * add item\n         */\n        vm.add = function () {\n            if (vm.description()) {\n                vm.list().push(new TodoItem({description: vm.description()}));\n                vm.description('');\n                TodoItem.save(vm.list());\n            }\n        };\n        /**\n         * checked this item\n         */\n        vm.check = function () {\n            this.done(true);\n            TodoItem.save(vm.list());\n        };\n    }\n};\n\nlet Button = {\n    controller: ()=> {\n    },\n    view: ()=> {\n        return <button onclick={vm.add}>追加</button>\n    }\n};\n\nlet app = {\n    controller: ()=> {\n        vm.init();\n    },\n    view: ()=> {\n        return <div>\n            <input type=\"text\" onchange={m.withAttr('value', vm.description)} value={vm.description()}/>\n            <Button/>\n            <table>\n                {vm.list().map(task =>{\n                    return <tr>\n                        <label>\n                            <td>\n                                <input type=\"checkbox\" onclick={m.withAttr(\"checked\",vm.check.bind(task))}/>\n                            </td>\n                            <td style={{textDecoration: task.done() ? 'line-through' : 'none'}}>{task.description()}</td>\n                        </label>\n                    </tr>\n                    })}\n            </table>\n        </div>;\n    }\n\n};\n\nm.mount(document.getElementById('root'), app);"]}